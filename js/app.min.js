(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();let bodyLockStatus=!0,bodyLockToggle=(n=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?bodyUnlock(n):bodyLock(n)},bodyUnlock=(n=500)=>{if(bodyLockStatus){const t=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{t.forEach(s=>{s.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},n),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},n)}},bodyLock=(n=500)=>{if(bodyLockStatus){const t=document.querySelectorAll("[data-fls-lp]"),s=window.innerWidth-document.body.offsetWidth+"px";t.forEach(e=>{e.style.paddingRight=s}),document.body.style.paddingRight=s,document.documentElement.setAttribute("data-fls-scrolllock",""),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},n)}};function menuInit(){document.addEventListener("click",function(n){bodyLockStatus&&n.target.closest("[data-fls-menu]")&&(bodyLockToggle(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",menuInit);const searchBox=document.querySelector(".top-header__search-box"),searchBtn=document.querySelector(".top-header__search"),searchInput=document.querySelector(".top-header__input"),catalogItems=document.querySelectorAll(".catalog__item"),searchResultsContainer=document.createElement("div");searchResultsContainer.className="search-results",searchBox.appendChild(searchResultsContainer);function searchProducts(n){const t=n.toLowerCase();searchResultsContainer.innerHTML="";let s=[];catalogItems.forEach(e=>{const i=e.querySelector(".item-catalog__title").textContent.trim().toLowerCase(),o=e.querySelector(".item-catalog__price span").textContent.trim();i.includes(t)&&s.push({title:i,price:o})}),s.length>0?(s.forEach(e=>{const i=document.createElement("div");i.className="search-results__item",i.textContent=`${e.title} - ${e.price} \u0433\u0440\u043D`,searchResultsContainer.appendChild(i)}),searchResultsContainer.classList.add("active")):(searchResultsContainer.innerHTML='<div class="search-results__item">\u041D\u0456\u0447\u043E\u0433\u043E \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E</div>',searchResultsContainer.classList.add("active"))}searchInput.addEventListener("input",()=>{const n=searchInput.value.trim();n.length>0?searchProducts(n):searchResultsContainer.classList.remove("active")}),searchBtn.addEventListener("click",n=>{n.preventDefault(),searchBox.classList.contains("active")?searchInput.value.trim()!==""&&searchProducts(searchInput.value.trim()):(searchBox.classList.add("active"),searchInput.focus())}),document.addEventListener("click",n=>{searchBox.contains(n.target)||(searchBox.classList.remove("active"),searchResultsContainer.classList.remove("active"),searchInput.value="")});class DynamicAdapt{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(t=>{const e=t.dataset.flsDynamic.trim().split(","),i={};i.element=t,i.parent=t.parentNode,i.destinationParent=e[3]&&t.closest(e[3].trim())||document,e[3]&&e[3].trim();const o=e[0]?e[0].trim():null;if(o){const r=i.destinationParent.querySelector(o);r&&(i.destination=r)}i.breakpoint=e[1]?e[1].trim():"767.98",i.place=e[2]?e[2].trim():"last",i.index=this.indexInParent(i.parent,i.element),this.objects.push(i)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:t})=>`(${this.type}-width: ${t/16}em),${t}`).filter((t,s,e)=>e.indexOf(t)===s),this.mediaQueries.forEach(t=>{const s=t.split(","),e=window.matchMedia(s[0]),i=s[1],o=this.objects.filter(({breakpoint:r})=>r===i);e.addEventListener("change",()=>{this.mediaHandler(e,o)}),this.mediaHandler(e,o)})}mediaHandler(t,s){t.matches?s.forEach(e=>{e.destination&&this.moveTo(e.place,e.element,e.destination)}):s.forEach(({parent:e,element:i,index:o})=>{i.classList.contains(this.daClassname)&&this.moveBack(e,i,o)})}moveTo(t,s,e){s.classList.add(this.daClassname);const i=t==="last"||t==="first"?t:parseInt(t,10);i==="last"||i>=e.children.length?e.append(s):i==="first"?e.prepend(s):e.children[i].before(s)}moveBack(t,s,e){s.classList.remove(this.daClassname),t.children[e]!==void 0?t.children[e].before(s):t.append(s)}indexInParent(t,s){return[...t.children].indexOf(s)}arraySort(t){if(this.type==="min")t.sort((s,e)=>s.breakpoint===e.breakpoint?s.place===e.place?0:s.place==="first"||e.place==="last"?-1:s.place==="last"||e.place==="first"?1:0:s.breakpoint-e.breakpoint);else{t.sort((s,e)=>s.breakpoint===e.breakpoint?s.place===e.place?0:s.place==="first"||e.place==="last"?1:s.place==="last"||e.place==="first"?-1:0:e.breakpoint-s.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new DynamicAdapt),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".catalog__sort");n.addEventListener("click",t=>{n.classList.toggle("active")}),document.addEventListener("click",t=>{n.contains(t.target)||n.classList.remove("active")})}),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".catalog__filter"),t=document.querySelector(".catalog__filter-modal"),s=document.querySelector(".catalog__filter-close");n&&t&&s&&(n.addEventListener("click",()=>{t.classList.add("active"),document.body.style.overflow="hidden"}),s.addEventListener("click",()=>{t.classList.remove("active"),document.body.style.overflow=""}),t.addEventListener("click",e=>{e.target===t&&(t.classList.remove("active"),document.body.style.overflow="")}))});
