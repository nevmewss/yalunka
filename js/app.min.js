(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();let bodyLockStatus=!0,bodyLockToggle=(n=500)=>{document.documentElement.hasAttribute("data-fls-scrolllock")?bodyUnlock(n):bodyLock(n)},bodyUnlock=(n=500)=>{if(bodyLockStatus){const e=document.querySelectorAll("[data-fls-lp]");setTimeout(()=>{e.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.removeAttribute("data-fls-scrolllock")},n),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},n)}},bodyLock=(n=500)=>{if(bodyLockStatus){const e=document.querySelectorAll("[data-fls-lp]"),t=window.innerWidth-document.body.offsetWidth+"px";e.forEach(c=>{c.style.paddingRight=t}),document.body.style.paddingRight=t,document.documentElement.setAttribute("data-fls-scrolllock",""),bodyLockStatus=!1,setTimeout(function(){bodyLockStatus=!0},n)}};function menuInit(){document.addEventListener("click",function(n){bodyLockStatus&&n.target.closest("[data-fls-menu]")&&(bodyLockToggle(),document.documentElement.toggleAttribute("data-fls-menu-open"))})}document.querySelector("[data-fls-menu]")&&window.addEventListener("load",menuInit);const searchBox=document.querySelector(".top-header__search-box"),searchBtn=document.querySelector(".top-header__search"),searchInput=document.querySelector(".top-header__input"),catalogItems=document.querySelectorAll(".catalog__item"),searchResultsContainer=document.createElement("div");searchResultsContainer.className="search-results",searchBox.appendChild(searchResultsContainer);function searchProducts(n){const e=n.toLowerCase();searchResultsContainer.innerHTML="";let t=[];catalogItems.forEach(c=>{const o=c.querySelector(".item-catalog__title").textContent.trim().toLowerCase(),r=c.querySelector(".item-catalog__price span").textContent.trim();o.includes(e)&&t.push({title:o,price:r})}),t.length>0?(t.forEach(c=>{const o=document.createElement("div");o.className="search-results__item",o.textContent=`${c.title} - ${c.price} \u0433\u0440\u043D`,searchResultsContainer.appendChild(o)}),searchResultsContainer.classList.add("active")):(searchResultsContainer.innerHTML='<div class="search-results__item">\u041D\u0456\u0447\u043E\u0433\u043E \u043D\u0435 \u0437\u043D\u0430\u0439\u0434\u0435\u043D\u043E</div>',searchResultsContainer.classList.add("active"))}searchInput.addEventListener("input",()=>{const n=searchInput.value.trim();n.length>0?searchProducts(n):searchResultsContainer.classList.remove("active")}),searchBtn.addEventListener("click",n=>{n.preventDefault(),searchBox.classList.contains("active")?searchInput.value.trim()!==""&&searchProducts(searchInput.value.trim()):(searchBox.classList.add("active"),searchInput.focus())}),document.addEventListener("click",n=>{searchBox.contains(n.target)||(searchBox.classList.remove("active"),searchResultsContainer.classList.remove("active"),searchInput.value="")});const cartBtn=document.querySelector(".cart-btn"),cartPopup=document.querySelector(".cart-popup"),cartClose=document.querySelector(".cart-popup__close"),removeButtons=document.querySelectorAll(".remove-item"),cartCount=document.querySelector(".cart-count"),cartTotal=document.querySelector(".cart-total");cartBtn.addEventListener("click",()=>{cartPopup.classList.add("active")}),cartClose.addEventListener("click",()=>{cartPopup.classList.remove("active")}),window.addEventListener("click",n=>{n.target===cartPopup&&cartPopup.classList.remove("active")}),removeButtons.forEach(n=>{n.addEventListener("click",function(){this.closest(".cart-item").remove(),updateCart()})});function updateCart(){const n=document.querySelectorAll(".cart-item");let e=0;n.forEach(t=>{e+=parseInt(t.querySelector("strong").innerText)}),cartCount.innerText=n.length,cartTotal.innerText=`\u0412\u0441\u044C\u043E\u0433\u043E: ${e} \u20B4`,n.length||(document.querySelector(".cart-items").innerHTML='<p class="cart-empty">\u041A\u043E\u0440\u0437\u0438\u043D\u0430 \u043F\u0443\u0441\u0442\u0430</p>')}const checkoutBtn=document.querySelector(".cart-checkout"),orderPopup$1=document.querySelector(".order-popup"),orderClose=document.querySelector(".order-popup__close"),paymentRadios=document.querySelectorAll('input[name="payment"]'),cardSection=document.querySelector(".order-card");checkoutBtn.addEventListener("click",()=>{cartPopup.classList.remove("active"),orderPopup$1.classList.add("active")}),orderClose.addEventListener("click",()=>{orderPopup$1.classList.remove("active")}),window.addEventListener("click",n=>{n.target===orderPopup$1&&orderPopup$1.classList.remove("active")}),paymentRadios.forEach(n=>{n.addEventListener("change",()=>{n.value==="card"?cardSection.style.display="block":cardSection.style.display="none"})});const orderSubmit=document.querySelector(".order-submit");orderSubmit.addEventListener("click",()=>{alert("\u0412\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u0432\u0456\u0434\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0435! \u041C\u0438 \u0437\u0432\u2019\u044F\u0436\u0435\u043C\u043E\u0441\u044F \u0437 \u0432\u0430\u043C\u0438 \u0434\u043B\u044F \u043F\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0436\u0435\u043D\u043D\u044F."),orderPopup$1.classList.remove("active")});class DynamicAdapt{constructor(){this.type="max",this.init()}init(){this.objects=[],this.daClassname="--dynamic",this.nodes=[...document.querySelectorAll("[data-fls-dynamic]")],this.nodes.forEach(e=>{const c=e.dataset.flsDynamic.trim().split(","),o={};o.element=e,o.parent=e.parentNode,o.destinationParent=c[3]&&e.closest(c[3].trim())||document,c[3]&&c[3].trim();const r=c[0]?c[0].trim():null;if(r){const s=o.destinationParent.querySelector(r);s&&(o.destination=s)}o.breakpoint=c[1]?c[1].trim():"767.98",o.place=c[2]?c[2].trim():"last",o.index=this.indexInParent(o.parent,o.element),this.objects.push(o)}),this.arraySort(this.objects),this.mediaQueries=this.objects.map(({breakpoint:e})=>`(${this.type}-width: ${e/16}em),${e}`).filter((e,t,c)=>c.indexOf(e)===t),this.mediaQueries.forEach(e=>{const t=e.split(","),c=window.matchMedia(t[0]),o=t[1],r=this.objects.filter(({breakpoint:s})=>s===o);c.addEventListener("change",()=>{this.mediaHandler(c,r)}),this.mediaHandler(c,r)})}mediaHandler(e,t){e.matches?t.forEach(c=>{c.destination&&this.moveTo(c.place,c.element,c.destination)}):t.forEach(({parent:c,element:o,index:r})=>{o.classList.contains(this.daClassname)&&this.moveBack(c,o,r)})}moveTo(e,t,c){t.classList.add(this.daClassname);const o=e==="last"||e==="first"?e:parseInt(e,10);o==="last"||o>=c.children.length?c.append(t):o==="first"?c.prepend(t):c.children[o].before(t)}moveBack(e,t,c){t.classList.remove(this.daClassname),e.children[c]!==void 0?e.children[c].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){if(this.type==="min")e.sort((t,c)=>t.breakpoint===c.breakpoint?t.place===c.place?0:t.place==="first"||c.place==="last"?-1:t.place==="last"||c.place==="first"?1:0:t.breakpoint-c.breakpoint);else{e.sort((t,c)=>t.breakpoint===c.breakpoint?t.place===c.place?0:t.place==="first"||c.place==="last"?1:t.place==="last"||c.place==="first"?-1:0:c.breakpoint-t.breakpoint);return}}}document.querySelector("[data-fls-dynamic]")&&window.addEventListener("load",()=>new DynamicAdapt),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".catalog__sort");n.addEventListener("click",e=>{n.classList.toggle("active")}),document.addEventListener("click",e=>{n.contains(e.target)||n.classList.remove("active")})}),document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector(".catalog__filter"),e=document.querySelector(".catalog__filter-modal"),t=document.querySelector(".catalog__filter-close");n&&e&&t&&(n.addEventListener("click",()=>{e.classList.add("active"),document.body.style.overflow="hidden"}),t.addEventListener("click",()=>{e.classList.remove("active"),document.body.style.overflow=""}),e.addEventListener("click",c=>{c.target===e&&(e.classList.remove("active"),document.body.style.overflow="")}))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".catalog__row .catalog__item"),t=document.querySelector(".catalog__pagination"),c=Math.ceil(e.length/15);let o=1;function r(a){e.forEach((l,d)=>{l.style.display="none";const u=(a-1)*15,m=a*15;d>=u&&d<m&&(l.style.display="block")}),document.querySelectorAll(".pagination-btn").forEach(l=>{l.classList.remove("active")});const i=document.querySelector(`.pagination-btn[data-page="${a}"]`);i&&i.classList.add("active")}function s(){t.innerHTML="";for(let a=1;a<=c;a++){const i=document.createElement("button");i.classList.add("pagination-btn"),a===o&&i.classList.add("active"),i.dataset.page=a,i.textContent=a,i.addEventListener("click",()=>{o=a,r(o)}),t.appendChild(i)}}c>1&&(s(),r(o))}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".blog__row .blog__column"),t=document.querySelector(".blog__pagination"),c=Math.ceil(e.length/6);let o=1;function r(a){e.forEach((l,d)=>{l.style.display="none";const u=(a-1)*6,m=a*6;d>=u&&d<m&&(l.style.display="block")}),document.querySelectorAll(".blog-pagination-btn").forEach(l=>{l.classList.remove("active")});const i=document.querySelector(`.blog-pagination-btn[data-page="${a}"]`);i&&i.classList.add("active")}function s(){t.innerHTML="";for(let a=1;a<=c;a++){const i=document.createElement("button");i.classList.add("blog-pagination-btn"),a===o&&i.classList.add("active"),i.dataset.page=a,i.textContent=a,i.addEventListener("click",()=>{o=a,r(o)}),t.appendChild(i)}}c>1&&(s(),r(o))}),document.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{const e=n.dataset.tab;document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active")),document.querySelectorAll(".tab-pane").forEach(t=>t.classList.remove("active")),n.classList.add("active"),document.getElementById(e).classList.add("active")})});function activateOptions(n){document.querySelectorAll(n).forEach(e=>{e.addEventListener("click",t=>{t.target.tagName==="BUTTON"&&(e.querySelectorAll("button").forEach(c=>c.classList.remove("active")),t.target.classList.add("active"))})})}activateOptions(".option__colors"),activateOptions(".option__sizes");const mainImage=document.querySelector(".product__main img"),thumbs=document.querySelectorAll(".product__thumbs img");thumbs.forEach(n=>{n.addEventListener("click",()=>{mainImage.src=n.src,thumbs.forEach(e=>e.classList.remove("active")),n.classList.add("active")})});let cart=JSON.parse(localStorage.getItem("cart"))||[];document.addEventListener("click",n=>{const e=n.target.closest(".btn-buy, .add-to-cart");if(!e)return;const t={id:e.dataset.id,title:e.dataset.title,price:parseFloat(e.dataset.price.replace(/\s/g,"")),image:e.dataset.image,quantity:1};addToCart(t)});function addToCart(n){const e=cart.find(t=>t.id===n.id);e?e.quantity+=1:cart.push(n),localStorage.setItem("cart",JSON.stringify(cart)),renderCartPopup()}function renderCartPopup(){const n=document.querySelector(".cart-items"),e=document.querySelector(".cart-total"),t=document.querySelector(".header__count");if(n.innerHTML="",cart.length===0){n.innerHTML="<p>\u041A\u043E\u0448\u0438\u043A \u043F\u043E\u0440\u043E\u0436\u043D\u0456\u0439</p>",e.textContent="\u0412\u0441\u044C\u043E\u0433\u043E: 0 \u20B4",t&&(t.textContent=0);return}let c=0,o=0;cart.forEach(r=>{c+=r.price*r.quantity,o+=r.quantity;const s=document.createElement("div");s.classList.add("cart-item"),s.innerHTML=`
            <img src="${r.image}" alt="${r.title}" class="cart-item__img">
            <div class="cart-item__info">
                <span class="cart-item__title">${r.title}</span>
                <span class="cart-item__quantity">\xD7 ${r.quantity}</span>
                <span class="cart-item__price">${r.price} \u20B4 / \u0448\u0442</span>
            </div>
            <strong class="cart-item__total">${r.price*r.quantity} \u20B4</strong>
            <button class="remove-item" data-id="${r.id}">\u2716</button>
        `,n.appendChild(s)}),e.textContent=`\u0412\u0441\u044C\u043E\u0433\u043E: ${c} \u20B4`,t&&(t.textContent=o),bindRemoveButtons()}function bindRemoveButtons(){document.querySelectorAll(".remove-item").forEach(n=>{n.onclick=()=>{cart=cart.filter(e=>e.id!==n.dataset.id),localStorage.setItem("cart",JSON.stringify(cart)),renderCartPopup()}})}document.addEventListener("DOMContentLoaded",renderCartPopup);const orderPopup=document.querySelector(".order-popup"),orderItemsContainer=document.querySelector(".order-items"),orderTotalEl=document.querySelector(".order-total__sum"),orderConfirmBtn=document.querySelector(".order-confirm"),orderCloseBtn=document.querySelector(".order-popup__close"),orderForm=document.querySelector(".order-form");orderCloseBtn.addEventListener("click",()=>{orderPopup.classList.remove("open")}),document.querySelector(".cart-checkout").addEventListener("click",n=>{n.preventDefault(),renderOrderPopup(cart),orderPopup.classList.add("open")}),document.querySelectorAll(".item-catalog__btn:not(.btn-buy)").forEach(n=>{n.addEventListener("click",e=>{e.preventDefault();const t=n.closest(".item-catalog"),c=t.querySelector(".item-catalog__title").textContent,o=parseFloat(t.querySelector(".item-catalog__price span").textContent.replace(/\s/g,"")),r=t.querySelector(".item-catalog__img img").src,s=[{id:"quick_"+Date.now(),title:c,price:o,quantity:1,image:r}];renderOrderPopup(s),orderPopup.classList.add("open")})});function renderOrderPopup(n){orderItemsContainer.innerHTML="";let e=0;n.forEach(t=>{e+=t.price*t.quantity;const c=document.createElement("div");c.classList.add("order-item"),c.style.display="flex",c.style.alignItems="center",c.style.marginBottom="10px",c.innerHTML=`
            <img src="${t.image}" alt="${t.title}" style="width:50px;height:50px;object-fit:cover;margin-right:10px;border-radius:5px;">
            <span style="flex:1;">${t.title} \xD7 ${t.quantity}</span>
            <strong>${t.price*t.quantity} \u20B4</strong>
        `,orderItemsContainer.appendChild(c)}),orderTotalEl.textContent=`${e} \u20B4`}orderConfirmBtn.addEventListener("click",()=>{if(!orderForm.checkValidity()){alert("\u0417\u0430\u043F\u043E\u0432\u043D\u0456\u0442\u044C \u0432\u0441\u0456 \u043F\u043E\u043B\u044F!");return}alert("\u0414\u044F\u043A\u0443\u0454\u043C\u043E! \u0412\u0430\u0448\u0435 \u0437\u0430\u043C\u043E\u0432\u043B\u0435\u043D\u043D\u044F \u043F\u0440\u0438\u0439\u043D\u044F\u0442\u043E."),orderPopup.classList.remove("open"),orderForm.reset()});
